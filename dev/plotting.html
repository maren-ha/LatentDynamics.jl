<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Plotting · LatentDynamics.jl</title><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="index.html">LatentDynamics.jl</a></span></div><form class="docs-search" action="search.html"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="index.html">Introduction</a></li><li><a class="tocitem" href="data.html">Data processing</a></li><li><a class="tocitem" href="dynamics.html">Dynamic model</a></li><li><a class="tocitem" href="vae.html">VAE model</a></li><li><a class="tocitem" href="evaluation.html">Evaluation</a></li><li class="is-active"><a class="tocitem" href="plotting.html">Plotting</a><ul class="internal"><li><a class="tocitem" href="#Simulated-data"><span>Simulated data</span></a></li><li><a class="tocitem" href="#SMArtCARE-data"><span>SMArtCARE data</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href="plotting.html">Plotting</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href="plotting.html">Plotting</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/maren-ha/LatentDynamics.jl/blob/main/docs/src/plotting.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Plotting"><a class="docs-heading-anchor" href="#Plotting">Plotting</a><a id="Plotting-1"></a><a class="docs-heading-anchor-permalink" href="#Plotting" title="Permalink"></a></h1><p>We provide various functions to visualize the learnt latent trajectories, both for individual patients and panels of multiple patients, for both simulated data and SMArtCARE data.  We provide functions to plot the trajectories of the overall estimator of the solution and functions to plot the prediction from the model starting at the current time point until the next time point (the <code>_piecewise</code> functions).</p><h2 id="Simulated-data"><a class="docs-heading-anchor" href="#Simulated-data">Simulated data</a><a id="Simulated-data-1"></a><a class="docs-heading-anchor-permalink" href="#Simulated-data" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="LatentDynamics.plot_truesolution" href="#LatentDynamics.plot_truesolution"><code>LatentDynamics.plot_truesolution</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">plot_truesolution(group, 
    data::simdata, 
    t_range, 
    sol_group1, 
    sol_group2; 
    showdata=true
)</code></pre><p>Plot the true solution of the ODE system for one simulated groups of patients.</p><p><strong>Arguments</strong></p><ul><li><code>group</code>: number of the group of patients whose true underlying trajectory to plot (1 or 2)</li><li><code>data</code>: <code>simdata</code> object containing the simulated data</li><li><code>t_range</code>: range of time points to plot</li><li><code>sol_group1</code>: true solution of the ODE system for group 1</li><li><code>sol_group2</code>: true solution of the ODE system for group 2</li></ul><p><strong>Optional keyword arguments</strong></p><ul><li><code>showdata</code>: whether to show the data points (default: <code>true</code>)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/maren-ha/LatentDynamics.jl/blob/e5896b968b009efb25e3e6a00abb0b9216dd7d3f/src/Plotting.jl#L224-L244">source</a></section></article><h3 id="Individual-trajectories"><a class="docs-heading-anchor" href="#Individual-trajectories">Individual trajectories</a><a id="Individual-trajectories-1"></a><a class="docs-heading-anchor-permalink" href="#Individual-trajectories" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-binding" id="LatentDynamics.createindividualplot-Tuple{odevae, simdata, Int64, Matrix, Any, LossArgs}" href="#LatentDynamics.createindividualplot-Tuple{odevae, simdata, Int64, Matrix, Any, LossArgs}"><code>LatentDynamics.createindividualplot</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">createindividualplot(m::odevae, 
    data::simdata, 
    idx::Int, 
    sol::Matrix, 
    trange, 
    args::LossArgs;
    title::String=&quot;&quot;, 
    showtruesol::Bool=true,
    axislabs::Bool=false, 
    showOLS::Bool=true, 
    colors_truesol::Array{String} = [&quot;#ff7f0e&quot; &quot;#1f77b4&quot;]
)</code></pre><p>Create a plot of the latent representation of a single patient based on simulated data,  using the overall ODE solution obtained as a (weighted) average of the individual ODE solutions (based on using each observed time point as initial condition).</p><p><strong>Arguments</strong></p><ul><li><code>m</code>: trained <code>odevae</code> model</li><li><code>data</code>: <code>simdata</code> object containing the simulated data</li><li><code>idx</code>: index of the patient whose latent representation to plot</li><li><code>sol</code>: true solution of the ODE system</li><li><code>trange</code>: range of time points to plot</li><li><code>args</code>: <code>LossArgs</code> object containing the arguments controlling the loss function behaviour    (and hence the details of how the latent trajectories are computed)</li></ul><p><strong>Optional keyword arguments</strong></p><ul><li><code>title</code>: title of the plot (default: <code>&quot;&quot;</code>)</li><li><code>showtruesol</code>: whether to show the true solution of the ODE system (default: <code>true</code>)</li><li><code>axislabs</code>: whether to show the axis labels (default: <code>false</code>)</li><li><code>showOLS</code>: whether to show the OLS fit to the latent representation (default: <code>true</code>)</li><li><code>colors_truesol</code>: colors to use for the true solution of the ODE system (default: <code>[&quot;#ff7f0e&quot; &quot;#1f77b4&quot;]</code>)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/maren-ha/LatentDynamics.jl/blob/e5896b968b009efb25e3e6a00abb0b9216dd7d3f/src/Plotting.jl#L277-L310">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LatentDynamics.createindividualplot_piecewise-Tuple{odevae, simdata, Int64, Matrix, Any}" href="#LatentDynamics.createindividualplot_piecewise-Tuple{odevae, simdata, Int64, Matrix, Any}"><code>LatentDynamics.createindividualplot_piecewise</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">createindividualplot_piecewise(m::odevae, 
    data::simdata, 
    ind::Int, 
    sol::Matrix, 
    t_range; 
    title::String=&quot;&quot;, 
    axislabs::Bool=false, 
    showtruesol::Bool=true,
    showOLS::Bool=true, 
    showglobalOLS::Bool=false,
    colors_truesol::Array{String} = [&quot;#ff7f0e&quot; &quot;#1f77b4&quot;]
)</code></pre><p>Create a plots of the latent representation of a individual simulated patient, using the individual ODE solutions from each timepoint as the initial condition to the next, hence creating a &#39;piecewise&#39; trajectory.</p><p><strong>Arguments</strong></p><ul><li><code>m</code>: <code>odevae</code> model</li><li><code>data</code>: <code>simdata</code> object containing the simulated data</li><li><code>ind</code>: index of the patient whose latent representation to plot</li><li><code>sol</code>: true solution of the ODE system for the patient</li><li><code>t_range</code>: range of time points to plot</li></ul><p><strong>Optional keyword arguments</strong></p><ul><li><code>title</code>: title of the plot (default: <code>&quot;&quot;</code>)</li><li><code>axislabs</code>: whether to show the axis labels (default: <code>false</code>)</li><li><code>showtruesol</code>: whether to show the true solution of the ODE system (default: <code>true</code>)</li><li><code>showOLS</code>: whether to show the piecewise OLS fit to the latent representation (default: <code>true</code>)</li><li><code>showglobalOLS</code>: whether to show a global OLS fit to the latent representation using all timepoints (default: <code>false</code>)</li><li><code>colors_truesol</code>: colors to use for the true solution and the ODE solution (default: <code>[&quot;#ff7f0e&quot; &quot;#1f77b4&quot;]</code>)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/maren-ha/LatentDynamics.jl/blob/e5896b968b009efb25e3e6a00abb0b9216dd7d3f/src/Plotting.jl#L429-L461">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LatentDynamics.eval_z_trajectories" href="#LatentDynamics.eval_z_trajectories"><code>LatentDynamics.eval_z_trajectories</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">eval_z_trajectories(m::odevae, 
    data::simdata, 
    inds::Array{Int}, 
    sol_group1::Matrix, 
    sol_group2::Matrix, 
    t_range, 
    args::LossArgs; 
    title::String=&quot;&quot;, 
    showtruesol::Bool=true,
    axislabs::Bool=false, 
    showOLS::Bool=true, 
    swapcolorcoding::Bool=false
)</code></pre><p>Create a plot of the latent representation of a set of patients based on simulated data, using the overall ODE solution obtained as a (weighted) average of the individual ODE solutions (based on using each observed time point as initial condition). Used as a callback during training of the <code>odevae</code> model.</p><p><strong>Arguments</strong></p><ul><li><code>m</code>: <code>odevae</code> model</li><li><code>data</code>: <code>simdata</code> object containing the simulated data</li><li><code>inds</code>: array of indices of the patients whose latent representations to plot</li><li><code>sol_group1</code>: true solutions of the ODE system for patients in group 1</li><li><code>sol_group2</code>: true solutions of the ODE system for patients in group 2</li><li><code>t_range</code>: range of time points to plot</li><li><code>args</code>: <code>LossArgs</code> object containing the arguments controlling the loss function behaviour    (and hence the details of how the latent trajectories are computed)</li></ul><p><strong>Optional keyword arguments</strong></p><ul><li><code>title</code>: title of the plot (default: <code>&quot;&quot;</code>)</li><li><code>showtruesol</code>: whether to show the true solution of the ODE system (default: <code>true</code>)</li><li><code>axislabs</code>: whether to show the axis labels (default: <code>false</code>)</li><li><code>showOLS</code>: whether to show the OLS fit to the latent representation (default: <code>true</code>)</li><li><code>swapcolorcoding</code>: whether to swap the color coding of the true solutions in the two groups (default: <code>false</code>)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/maren-ha/LatentDynamics.jl/blob/e5896b968b009efb25e3e6a00abb0b9216dd7d3f/src/Plotting.jl#L359-L395">source</a></section></article><h3 id="Panels-of-trajectories"><a class="docs-heading-anchor" href="#Panels-of-trajectories">Panels of trajectories</a><a id="Panels-of-trajectories-1"></a><a class="docs-heading-anchor-permalink" href="#Panels-of-trajectories" title="Permalink"></a></h3><div class="admonition is-warning"><header class="admonition-header">Missing docstring.</header><div class="admonition-body"><p>Missing docstring for <code>plot_seleced_ids_piecewise(m::odevae,          data::simdata,          inds::Array{Int},          sol_group1::Matrix,          sol_group2::Matrix,          t_range;          axislabs::Bool=false,          showtruesol::Bool=true,         showtitle::Bool=true,          showOLS::Bool=true,          showglobalOLS::Bool=false,         swapcolorcoding::Bool=false,          sort_inds::Bool=true     )</code>. Check Documenter&#39;s build log for details.</p></div></div><h2 id="SMArtCARE-data"><a class="docs-heading-anchor" href="#SMArtCARE-data">SMArtCARE data</a><a id="SMArtCARE-data-1"></a><a class="docs-heading-anchor-permalink" href="#SMArtCARE-data" title="Permalink"></a></h2><h3 id="Individual-trajectories-2"><a class="docs-heading-anchor" href="#Individual-trajectories-2">Individual trajectories</a><a class="docs-heading-anchor-permalink" href="#Individual-trajectories-2" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-binding" id="LatentDynamics.createindividualplot-Tuple{odevae, SMATestData, LossArgs, Any}" href="#LatentDynamics.createindividualplot-Tuple{odevae, SMATestData, LossArgs, Any}"><code>LatentDynamics.createindividualplot</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">createindividualplot(m::odevae, 
    testdata::SMATestData, 
    args::LossArgs, 
    patient_id; 
    axislabs::Bool=false, 
    title::String=&quot;&quot;, 
    showOLS::Bool=true
)</code></pre><p>Create a plot of the latent representation of a single patient from a trained <code>odevae</code> model, using the overall ODE solution obtained as a (weighted) average of the individual ODE solutions  (based on using each observed time point as initial condition). </p><p><strong>Arguments</strong></p><ul><li><code>m</code>: trained <code>odevae</code> model</li><li><code>testdata</code>: <code>SMATestData</code> object containing the data</li><li><code>args</code>: <code>LossArgs</code> object containing the arguments controlling the loss function behaviour    (and hence the details of how the latent trajectories are computed)</li><li><code>patient_id</code>: ID of the patient whose latent representation to plot</li></ul><p><strong>Optional keyword arguments</strong></p><ul><li><code>axislabs</code>: whether to add axis labels to the plot (default: <code>false</code>)</li><li><code>title</code>: title of the plot (default: <code>&quot;&quot;</code>)</li><li><code>showOLS</code>: whether to show the OLS fit to the latent representation (default: <code>true</code>)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/maren-ha/LatentDynamics.jl/blob/e5896b968b009efb25e3e6a00abb0b9216dd7d3f/src/Plotting.jl#L11-L36">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LatentDynamics.createindividualplot_piecewise-Tuple{odevae, SMATestData, Any}" href="#LatentDynamics.createindividualplot_piecewise-Tuple{odevae, SMATestData, Any}"><code>LatentDynamics.createindividualplot_piecewise</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">createindividualplot_piecewise(m::odevae, 
    testdata::SMATestData, 
    patient_id; 
    title::String=&quot;&quot;, 
    showOLS::Bool=true, 
    axislabs::Bool=false
)</code></pre><p>Create a plot of the latent representation of a single patient from a trained <code>odevae</code> model, using the individual ODE solutions from each timepoint as the initial condition to the next,  hence creating a &#39;piecewise&#39; trajectory.</p><p><strong>Arguments</strong></p><ul><li><code>m</code>: trained <code>odevae</code> model</li><li><code>testdata</code>: <code>SMATestData</code> object containing the data</li><li><code>patient_id</code>: ID of the patient whose latent representation to plot</li></ul><p><strong>Optional keyword arguments</strong></p><ul><li><code>axislabs</code>: whether to add axis labels to the plot (default: <code>false</code>)</li><li><code>title</code>: title of the plot (default: <code>&quot;&quot;</code>)</li><li><code>showOLS</code>: whether to show the OLS fit to the latent representation (default: <code>true</code>)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/maren-ha/LatentDynamics.jl/blob/e5896b968b009efb25e3e6a00abb0b9216dd7d3f/src/Plotting.jl#L80-L102">source</a></section></article><h3 id="Panels-of-trajectories-2"><a class="docs-heading-anchor" href="#Panels-of-trajectories-2">Panels of trajectories</a><a class="docs-heading-anchor-permalink" href="#Panels-of-trajectories-2" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-binding" id="LatentDynamics.plot_selected_ids" href="#LatentDynamics.plot_selected_ids"><code>LatentDynamics.plot_selected_ids</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">plot_selected_ids(m::odevae, 
    testdata::SMATestData, 
    args::LossArgs, 
    selected_ids::Array; 
    showOLS::Bool=true
)</code></pre><p>Create a panel of plots of the latent representations of a list of patients, using the overall ODE solution obtained as a (weighted) average of the individual ODE solutions  (based on using each observed time point as initial condition). </p><p><strong>Arguments</strong></p><ul><li><code>m</code>: trained <code>odevae</code> model</li><li><code>testdata</code>: <code>SMATestData</code> object containing the data</li><li><code>args</code>: <code>LossArgs</code> object containing the arguments controlling the loss function behaviour    (and hence the details of how the latent trajectories are computed)</li><li><code>selected_ids</code>: array of the IDs of the patients whose latent representations to plot</li></ul><p><strong>Optional keyword arguments</strong></p><ul><li><code>showOLS</code>: whether to show the OLS fit to the latent representation (default: <code>true</code>)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/maren-ha/LatentDynamics.jl/blob/e5896b968b009efb25e3e6a00abb0b9216dd7d3f/src/Plotting.jl#L187-L208">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LatentDynamics.plot_selected_ids_piecewise-Tuple{odevae, SMATestData, Array}" href="#LatentDynamics.plot_selected_ids_piecewise-Tuple{odevae, SMATestData, Array}"><code>LatentDynamics.plot_selected_ids_piecewise</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">plot_selected_ids_piecewise(m::odevae, 
    testdata::SMATestData,
    selected_ids::Array; 
    showOLS::Bool=true
)</code></pre><p>Create a panel of plots of the latent representations of a list of patients, using the individual ODE solutions from each timepoint as the initial condition to the next, hence creating a &#39;piecewise&#39; trajectory.</p><p><strong>Arguments</strong></p><ul><li><code>m</code>: trained <code>odevae</code> model</li><li><code>testdata</code>: <code>SMATestData</code> object containing the data</li><li><code>selected_ids</code>: array of the IDs of the patients whose latent representations to plot</li></ul><p><strong>Optional keyword arguments</strong></p><ul><li><code>showOLS</code>: whether to show the OLS fit to the latent representation (default: <code>true</code>)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/maren-ha/LatentDynamics.jl/blob/e5896b968b009efb25e3e6a00abb0b9216dd7d3f/src/Plotting.jl#L155-L173">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="evaluation.html">« Evaluation</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.24 on <span class="colophon-date" title="Sunday 18 June 2023 18:51">Sunday 18 June 2023</span>. Using Julia version 1.7.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
